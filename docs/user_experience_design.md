# 🎨 UX/UI Дизайн и Пользовательские Сценарии "Inner Circle"

## 📖 Обзор Документа

Этот документ содержит детальное описание пользовательского опыта, экранов приложения, флоу взаимодействия и планируемого функционала семейного мессенджера "Inner Circle". Главная цель - создать приложение максимально похожее на WhatsApp/Telegram, но адаптированное для семейного использования.

---

## 🎯 **Принципы UX Design**

### **Основные Принципы:**
1. **🔄 Привычность:** Максимальное сходство с WhatsApp/Telegram
2. **⚡ Простота:** Минимум кликов для основных действий
3. **👨‍👩‍👧‍👦 Семейность:** Ориентация на семейное общение
4. **📱 Мобильность:** Mobile-first подход
5. **🎨 Современность:** Material Design 3 / iOS Design Guidelines

### **Цветовая Схема (MVP):**
```
Primary: #2196F3 (синий - как WhatsApp)
Secondary: #4CAF50 (зеленый - для отправки)
Background: #FFFFFF (белый)
Chat Bubbles: 
  - Свои сообщения: #E3F2FD (светло-синий)
  - Чужие сообщения: #F5F5F5 (светло-серый)
Text: #212121 (темно-серый)
Accent: #FF5722 (оранжевый - для уведомлений)
```

### **🎨 Брендинг и Визуальная Идентичность (ПЛАНИРУЕТСЯ):**

#### **📋 Отсутствующие Элементы Брендинга:**
- **🚀 Splash Screen:** Экран загрузки при старте приложения
- **📱 App Icon:** Иконка приложения для Android/iOS
- **🔔 Push Notifications Icon:** Иконка уведомлений
- **🏷️ Логотип:** Основной логотип "Inner Circle"
- **📋 Favicon:** Для веб-интерфейса (Swagger UI)
- **🎯 Brand Guidelines:** Полный гайд по использованию брендинга

#### **🎯 Концепция Брендинга "Inner Circle":**
- **Название:** "Inner Circle" - "Внутренний Круг" (семейный круг)
- **Символика:** Круг, семья, связь, единство, защищенность
- **Настроение:** Теплый, семейный, безопасный, современный
- **Вдохновение:** Концепция "внутреннего круга доверия"

---

## 📱 **Детальное Описание Экранов**

### **1. 🔐 Экран Входа (Login Screen)**

#### **Текущее Состояние:** ✅ РЕАЛИЗОВАН
#### **Расположение:** `frontend/lib/features/auth/presentation/screens/login_screen.dart`

#### **Описание:**
- **Заголовок:** "Вход в Inner Circle"
- **Поля ввода:**
  - Username (текстовое поле)
  - Password (скрытое поле)
- **Кнопки:**
  - "Войти" (основная кнопка)
  - "У меня нет аккаунта? Зарегистрироваться" (ссылка)

#### **Функционал:**
- ✅ Валидация полей
- ✅ JWT аутентификация
- ✅ Автоматический переход в чаты после входа
- ✅ Обработка ошибок входа

#### **Будущие Улучшения:**
- [ ] "Запомнить меня" (автовход)
- [ ] Biometric authentication (отпечаток/Face ID)
- [ ] Восстановление пароля
- [ ] Анимации переходов

---

### **2. 📝 Экран Регистрации (Registration Screen)**

#### **Текущее Состояние:** ✅ РЕАЛИЗОВАН
#### **Расположение:** `frontend/lib/features/auth/presentation/screens/registration_screen.dart`

#### **Описание:**
- **Заголовок:** "Добро пожаловать в семью!"
- **Поля ввода:**
  - Username (уникальное имя пользователя)
  - Password (минимум 6 символов)
  - Invitation Code (пригласительный код)
- **Кнопки:**
  - "Зарегистрироваться" (основная кнопка)
  - "Уже есть аккаунт? Войти" (ссылка)

#### **Функционал:**
- ✅ Валидация пригласительного кода
- ✅ Проверка уникальности username
- ✅ Автоматическое добавление в семейный чат
- ✅ Переход на экран входа после регистрации

#### **Будущие Улучшения:**
- [ ] Выбор аватара при регистрации
- [ ] Поле "Полное имя" (отдельно от username)
- [ ] Согласие на обработку данных
- [ ] Welcome tour после первой регистрации

---

### **3. 💬 Список Чатов (Chat List Screen)**

#### **Текущее Состояние:** ✅ РЕАЛИЗОВАН (базовая версия)
#### **Расположение:** `frontend/lib/features/chat/presentation/screens/chat_list_screen.dart`

#### **Описание (Текущий MVP):**
- **Заголовок:** "Мои Чаты"
- **Список чатов:**
  - "Семейный Чат" (автоматически создается)
- **Navigation Bar:** (пока отсутствует)

#### **Планируемый Дизайн (Расширенная Версия):**

```
┌─────────────────────────────────┐
│ ← Настройки    Inner Circle  🔍 │ ← Header
├─────────────────────────────────┤
│ 👥 Семейный Чат               📍│ ← Pinned chat
│ Мама: Ужин готов!       19:30   │
│ ● 2                             │ ← Непрочитанные
├─────────────────────────────────┤
│ 👤 Папа                      📷│ ← Личный чат
│ Фото              ✓✓    Вчера   │
├─────────────────────────────────┤
│ 👤 Сестра                      │
│ Как дела?         ✓     15:20   │
├─────────────────────────────────┤
│ 👤 Брат                        │
│ Увидимся завтра!       14:05    │
└─────────────────────────────────┘
│ 💬  📞  👥  ⚙️                   │ ← Bottom Navigation
└─────────────────────────────────┘
```

#### **Функционал (MVP):**
- ✅ Отображение семейного чата
- ✅ Переход в чат при нажатии
- ✅ Загрузка списка чатов с сервера

#### **Планируемый Функционал:**
- [ ] **Список личных чатов** (1-на-1)
- [ ] **Последнее сообщение** в каждом чате
- [ ] **Время последнего сообщения**
- [ ] **Счетчик непрочитанных** сообщений
- [ ] **Статус доставки** (✓ отправлено, ✓✓ доставлено)
- [ ] **Онлайн статус** пользователей
- [ ] **Поиск чатов** (🔍 в header)
- [ ] **Закрепленные чаты** (семейный чат всегда сверху)
- [ ] **Аватары пользователей**
- [ ] **Архивированные чаты**

#### **Bottom Navigation (Будущее):**
- **💬 Чаты** (текущий экран)
- **📞 Звонки** (история звонков)
- **👥 Контакты** (список семьи)
- **⚙️ Настройки**

---

### **4. 📨 Экран Сообщений (Message Screen)**

#### **Текущее Состояние:** ✅ ПОЛНОСТЬЮ РЕАЛИЗОВАН
#### **Расположение:** `frontend/lib/features/chat/presentation/screens/message_screen.dart`

#### **Описание (Текущий Дизайн):**
```
┌─────────────────────────────────┐
│ ← Семейный Чат            📞 📹│ ← Header с кнопками звонков
├─────────────────────────────────┤
│                                 │
│  User3                          │ ← Чужое сообщение
│  Привет всем!                   │
│  22:10                          │
│                                 │
│                     User4    │ ← Свое сообщение  
│                 Привет! ✓✓   │
│                     22:11    │
│                                 │
│  User3                          │
│  Как дела?                      │ 
│  22:12                          │
├─────────────────────────────────┤
│ [Введите сообщение...]    [📎] 🎤│ ← Input bar
└─────────────────────────────────┘
```

#### **Функционал (Реализован):**
- ✅ **Real-time сообщения** - мгновенная доставка
- ✅ **История сообщений** - загрузка при входе
- ✅ **Optimistic UI** - мгновенное отображение отправленных
- ✅ **Автоскролл** к новым сообщениям
- ✅ **Отображение отправителя** и времени
- ✅ **Разные цвета** для своих/чужих сообщений

#### **Планируемые Улучшения:**
- [ ] **Статусы доставки:** отправлено (✓), доставлено (✓✓), прочитано (✓✓ синие)
- [ ] **Typing indicators:** "Мама печатает..."
- [ ] **Replies/Ответы:** возможность отвечать на сообщения
- [ ] **File sharing:** отправка фото, документов
- [ ] **Voice messages:** голосовые сообщения
- [ ] **Эмодзи реакции:** ❤️ 😂 👍 и т.д.
- [ ] **Форматирование:** **жирный**, *курсив*, `код`
- [ ] **Поиск по сообщениям**
- [ ] **Пересылка сообщений**
- [ ] **Удаление сообщений**

#### **Header Actions (Планируется):**
- **📞 Голосовой звонок** (Phase 2)
- **📹 Видеозвонок** (Phase 3)
- **ℹ️ Информация о чате** (участники, настройки)

---

### **5. 👥 Список Контактов (Contacts Screen)**

#### **Текущее Состояние:** ❌ НЕ РЕАЛИЗОВАН
#### **Планируемое Расположение:** `frontend/lib/features/contacts/presentation/screens/contacts_screen.dart`

#### **Описание Дизайна:**
```
┌─────────────────────────────────┐
│ ← Контакты                   🔍 │
├─────────────────────────────────┤
│ 👤 Мама                      ● │ ← Онлайн
│ @mama_best                      │
│ Последний раз: сейчас           │
├─────────────────────────────────┤
│ 👤 Папа                       ○ │ ← Оффлайн
│ @papa_strong                    │
│ Последний раз: 5 мин назад      │
├─────────────────────────────────┤
│ 👤 Сестра                     ● │
│ @little_sis                     │
│ Последний раз: сейчас           │
├─────────────────────────────────┤
│ 👤 Брат                       ○ │
│ @big_brother                    │
│ Последний раз: час назад        │
└─────────────────────────────────┘
```

#### **Планируемый Функционал:**
- [ ] **Список всех участников семьи**
- [ ] **Онлайн/оффлайн статус**
- [ ] **Время последней активности**
- [ ] **Профильные фотографии**
- [ ] **Возможность начать личный чат**
- [ ] **Информация о пользователе** (полное имя, статус)
- [ ] **Поиск контактов**

#### **Actions для каждого контакта:**
- **💬 Написать** (создать/открыть личный чат)
- **📞 Позвонить** (голосовой звонок)
- **ℹ️ Профиль** (подробная информация)

---

### **6. ⚙️ Экран Настроек (Settings Screen)**

#### **Текущее Состояние:** ❌ НЕ РЕАЛИЗОВАН
#### **Планируемое Расположение:** `frontend/lib/features/settings/presentation/screens/settings_screen.dart`

#### **Описание Дизайна:**
```
┌─────────────────────────────────┐
│ ← Настройки                     │
├─────────────────────────────────┤
│ 👤 [Аватар] Bessonniy           │ ← Профиль
│ @bessonniy_user                 │
│ Нажмите для редактирования      │
├─────────────────────────────────┤
│ 🔔 Уведомления              > │
│ 🔐 Приватность              > │
│ 💾 Данные и память          > │
│ 🎨 Тема оформления          > │
│ 🌐 Язык                     > │
├─────────────────────────────────┤
│ 👥 Управление семьей        > │ ← Только для админов
│ 🎫 Пригласительные коды    > │
├─────────────────────────────────┤
│ ❓ Помощь                   > │
│ 📄 О приложении             > │
│ 🚪 Выйти                     │
└─────────────────────────────────┘
```

#### **Планируемый Функционал (MVP):**
- [ ] **Редактирование профиля:**
  - Изменение username
  - Смена пароля
  - Статус/описание
- [ ] **Базовые настройки уведомлений**
- [ ] **Выход из аккаунта**

#### **Планируемый Функционал (Будущее):**
- [ ] **Полное управление профилем:**
  - Загрузка аватара
  - Полное имя
  - Дата рождения
- [ ] **Детальные настройки уведомлений:**
  - Push уведомления
  - Звуки
  - Вибрация
  - Время "не беспокоить"
- [ ] **Приватность:**
  - Видимость статуса онлайн
  - Время последней активности
- [ ] **Тема оформления:**
  - Светлая/темная тема
  - Размер шрифта
- [ ] **Администрирование (только для админов):**
  - Управление пригласительными кодами
  - Удаление пользователей
  - Модерация чатов

---

### **7. 📞 История Звонков (Calls Screen)**

#### **Текущее Состояние:** ❌ НЕ РЕАЛИЗОВАН (Phase 2)
#### **Планируемое Расположение:** `frontend/lib/features/calls/presentation/screens/calls_screen.dart`

#### **Описание Дизайна (Будущее):**
```
┌─────────────────────────────────┐
│ ← Звонки                        │
├─────────────────────────────────┤
│ 👤 Мама               📞 19:30 │ ← Входящий принят
│ ↙️ Входящий • 5 мин              │
├─────────────────────────────────┤
│ 👤 Папа               📞 15:22 │ ← Исходящий
│ ↗️ Исходящий • 12 мин           │
├─────────────────────────────────┤
│ 👤 Сестра             📞 12:10 │ ← Пропущенный
│ ↙️ Пропущенный • 0 сек          │
└─────────────────────────────────┘
```

#### **Планируемый Функционал (Phase 2):**
- [ ] **История всех звонков**
- [ ] **Типы звонков:** входящие, исходящие, пропущенные
- [ ] **Длительность звонков**
- [ ] **Быстрый повторный звонок**
- [ ] **Интеграция с WebRTC**

---

### **8. 🎫 Управление Пригласительными Кодами (Admin Screen)**

#### **Текущее Состояние:** ❌ НЕ РЕАЛИЗОВАН
#### **Планируемое Расположение:** `frontend/lib/features/admin/presentation/screens/invitation_codes_screen.dart`

#### **Описание Дизайна:**
```
┌─────────────────────────────────┐
│ ← Пригласительные коды    [+]   │
├─────────────────────────────────┤
│ 🎫 secret_invite              ✅│ ← Активный код
│ Использован: 4 раза             │
│ Создан: 15.08.2025              │
├─────────────────────────────────┤
│ 🎫 family_2025                ❌│ ← Неактивный код
│ Использован: 0 раз              │
│ Истекает: 31.12.2025            │
├─────────────────────────────────┤
│ 🎫 temp_guest_code           ⏰│ ← Временный код
│ Использован: 1/1 раз            │
│ Истекает: 25.08.2025            │
└─────────────────────────────────┘
```

#### **Планируемый Функционал (Будущее):**
- [ ] **Создание новых кодов**
- [ ] **Установка лимитов использования**
- [ ] **Установка срока действия**
- [ ] **Деактивация кодов**
- [ ] **Статистика использования**

---

## 🔄 **Пользовательские Сценарии (User Flows)**

### **Сценарий 1: Первая Регистрация в Семье**

```
1. Получение пригласительного кода
   📱 Пользователь получает код от члена семьи

2. Скачивание приложения
   📥 Установка APK / из App Store

3. Открытие приложения
   🚀 Автоматическое открытие экрана входа

4. Переход на регистрацию
   📝 "У меня нет аккаунта? Зарегистрироваться"

5. Заполнение формы
   ✏️ Username + Password + Invitation Code

6. Регистрация
   ✅ Автоматическое добавление в семейный чат

7. Первый вход
   🔑 Ввод логина и пароля

8. Добро пожаловать!
   🎉 Семейный чат уже ждет с сообщениями
```

### **Сценарий 2: Ежедневное Использование**

```
1. Открытие приложения
   📱 Приложение запоминает пользователя

2. Список чатов
   💬 Видны все чаты с последними сообщениями

3. Семейный чат
   👥 Заходит в основной чат семьи

4. Чтение сообщений
   👀 Просматривает пропущенные сообщения

5. Отправка сообщения
   ⌨️ Быстрый ввод и отправка

6. Real-time общение
   ⚡ Живое общение с членами семьи

7. Переход к личному чату
   👤 Открывает чат с конкретным человеком

8. Закрытие приложения
   📱 Получение push уведомлений
```

### **Сценарий 3: Первый Голосовой Звонок (Phase 2)**

```
1. Открытие чата
   💬 Личный чат с членом семьи

2. Инициация звонка
   📞 Нажатие кнопки телефона в header

3. Исходящий звонок
   📱 Экран исходящего звонка + рингтон

4. Принятие звонка
   ✅ Второй пользователь принимает

5. Голосовая связь
   🎙️ WebRTC соединение установлено

6. Завершение звонка
   📵 Любой из участников завершает

7. История звонков
   📞 Запись появляется в истории
```

---

## 🎨 **UI/UX Особенности для Семейного Использования**

### **1. Семейные Элементы:**
- **👥 Семейный чат всегда закреплен сверху**
- **🏠 Домашняя атмосфера в дизайне**
- **🎨 Теплые, семейные цвета**
- **👨‍👩‍👧‍👦 Аватары всех членов семьи видны**

### **2. Простота для Всех Возрастов:**
- **🔤 Крупные шрифты (настраиваемые)**
- **👆 Большие области нажатия**
- **🎯 Минимум сложных функций в MVP**
- **📖 Интуитивно понятные иконки**

### **3. Безопасность и Приватность:**
- **🔐 Только по приглашениям**
- **👨‍👩‍👧‍👦 Закрытое семейное пространство**
- **🛡️ Админ может управлять участниками**
- **📱 Локальное хранение важных данных**

---

## 📋 **Приоритеты Разработки UI/UX**

### **Phase 1 (MVP):**
1. ✅ **Login/Registration** - готово
2. ✅ **Chat List** - базовая версия готова
3. ✅ **Message Screen** - полностью готово
4. 🔄 **Contacts Screen** - следующий в разработке
5. ⏳ **Basic Settings** - планируется

### **Phase 2:**
1. **Enhanced Chat List** (последние сообщения, счетчики)
2. **Voice Calls** (WebRTC интеграция)
3. **Calls History Screen**
4. **Advanced Settings**
5. **File Sharing**

### **Phase 3:**
1. **Video Calls**
2. **Admin Panel** (управление кодами)
3. **Themes Support** (темная/светлая)
4. **Advanced Chat Features** (replies, reactions)
5. **Push Notifications**

---

## 🔍 **Детали Реализации**

### **Навигация:**
```dart
// Структура Navigator routes
/login -> LoginScreen
/register -> RegistrationScreen  
/chats -> ChatListScreen (main)
/chat/:chatId -> MessageScreen
/contacts -> ContactsScreen
/settings -> SettingsScreen
/calls -> CallsScreen
/admin/codes -> InvitationCodesScreen
```

### **State Management (Будущее):**
```dart
// Provider/Riverpod структура
- AuthProvider (текущий пользователь)
- ChatsProvider (список чатов)
- MessagesProvider (сообщения конкретного чата)
- ContactsProvider (список контактов)
- SettingsProvider (настройки приложения)
- CallsProvider (история звонков)
```

### **Responsive Design:**
- **📱 Mobile First** (основной фокус)
- **📟 Tablet Support** (адаптивная верстка)
- **💻 Web Support** (для тестирования/отладки)

---

## 🎯 **Метрики UX Success**

### **Показатели Успешности:**
1. **⏱️ Time to First Message** < 2 минуты (после установки)
2. **📱 Daily Active Users** - ежедневное использование всей семьей
3. **💬 Messages per Session** - активность общения
4. **⚡ Message Delivery Time** < 100ms (локальная сеть)
5. **😊 User Satisfaction** - простота использования

### **Пользовательские Тесты:**
- [ ] **Usability тесты с реальными семьями**
- [ ] **A/B тесты UI элементов**
- [ ] **Accessibility тесты** (для пользователей разных возрастов)
- [ ] **Performance тесты** на разных устройствах

---

## 💡 **Рекомендации по Улучшению UX (От ИИ-Ассистента)**

### **Критически Важные Функции для Семейного Мессенджера:**

1. **🔔 Smart Notifications:**
   - **Семейные уведомления:** Отдельные настройки для семейного чата
   - **Тихий час:** Автоматическое отключение в ночное время
   - **Приоритетные контакты:** Возможность "прорваться" через тихий режим

2. **👨‍👩‍👧‍👦 Семейные Роли:**
   - **Родители/Админы:** Расширенные права управления
   - **Дети:** Упрощенный интерфейс
   - **Гости:** Временный доступ с ограничениями

3. **📱 Адаптация под Возраст:**
   - **Крупные элементы** для старшего поколения
   - **Простые жесты** (вместо сложных swipe действий)
   - **Голосовые команды** для удобства

4. **🏠 Семейные Функции:**
   - **Семейный календарь** (интеграция с чатом)
   - **Местоположение семьи** (с согласия)
   - **Быстрые шаблоны:** "Еду домой", "Опаздываю", "Готов ужин"

5. **🎯 Onboarding для Семьи:**
   - **Семейный Welcome Tour** после первой регистрации
   - **Интерактивные подсказки** для новых функций
   - **Помощь от других членов семьи** (peer-to-peer обучение)

### **Технические Улучшения UX:**

1. **⚡ Performance:**
   - **Lazy Loading** для больших чатов
   - **Image Compression** для семейных фото
   - **Offline Mode** с синхронизацией

2. **🔄 Backup & Sync:**
   - **Автоматическое резервное копирование** семейных фото
   - **Облачная синхронизация** между устройствами
   - **Экспорт семейных воспоминаний**

3. **🎨 Customization:**
   - **Семейные темы** оформления
   - **Персональные звуки** для каждого члена семьи
   - **Кастомные эмодзи** семьи

### **Безопасность для Семьи:**

1. **🛡️ Parental Controls:**
   - **Время использования** для детей
   - **Фильтрация контента**
   - **Мониторинг активности** (с уведомлением)

2. **🔒 Privacy:**
   - **Семейный сейф** для важных документов
   - **Исчезающие сообщения** для временной информации
   - **Архив семейных воспоминаний**

### **Особенности для Российского Рынка:**

1. **🇷🇺 Локализация:**
   - **Полная русификация** интерфейса
   - **Русские даты/время** форматы
   - **Локальные праздники** в календаре

2. **📱 Адаптация под Устройства:**
   - **Поддержка старых Android** версий
   - **Экономия трафика** (важно для регионов)
   - **Работа на слабых устройствах**

---

**📅 Последнее обновление:** 20.08.2025  
**👨‍💻 Автор:** ИИ-Ассистент + Bessonniy  
**🎨 Версия UX документа:** 1.0  
**🎯 Статус:** Концепт завершен, готов к пошаговой реализации ✅
